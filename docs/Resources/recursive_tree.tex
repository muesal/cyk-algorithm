\begin{figure}[!ht]
\scriptsize
\centering
\begin{forest}
    [{$s[1..4]$}
        [{$k=1$}, text=Gray % first main branch
            [{$s[1]$}, text=ProcessBlue]
            [{$s[2..4]$}
                [{$k=2$}, text=Gray
                    [{$s[2]$}, text=Thistle]
                    [{$s[3..4]$}, text=RoyalPurple
                        [{$k=3$}, text=Gray
                            [{$s[3]$}, text=BurntOrange]
                            [{$s[4]$}, text=LimeGreen]
                        ]
                    ]
                ]
                [{$k=3$}, text=Gray
                [{$s[2..3]$}, text=Bittersweet
                    [{$k=2$}, text=Gray
                        [{$s[2]$}, text=Thistle]
                        [{$s[3]$}, text=BurntOrange]
                    ]
                ]
                [{$s[4]$}, text=LimeGreen]
                ]
            ]
        ]
        [{$k=2$}, text=Gray % second main branch
            [{$s[1..2]$}, text=OliveGreen
                [{$k=1$}, text=Gray
                    [{$s[1]$}, text=ProcessBlue]
                    [{$s[4]$}, text=LimeGreen]
                ]
                ]
                [{$s[3..4]$}, text=RoyalPurple
                    [{$k=3$}, text=Gray
                        [{$s[3]$}, text=BurntOrange]
                        [{$s[4]$}, text=LimeGreen]
                    ]
                ]
        ]
        [{$k=3$}, text=Gray % third main branch
            [{$s[1..3]$}
                [{$k=1$}, text=Gray
                    [{$s[1]$}, text=ProcessBlue]
                    [{$s[2..3]$}, text=Bittersweet
                        [{$k=2$}, text=Gray
                            [{$s[2]$}, text=Thistle]
                            [{$s[3]$}, text=BurntOrange]
                        ]
                    ]
                ]
                [{$k=2$}, text=Gray
                    [{$s[1..2]$}, text=OliveGreen
                        [{$k=1$}, text=Gray
                            [{$s[1]$}, text=ProcessBlue]
                            [{$s[2]$}, text=Thistle]
                        ]
                    ]
                    [{$s[3]$}, text=BurntOrange]
                ]
            ]
            [{$s[4]$}, text=LimeGreen]
        ]
    ]
\end{forest}
\caption{Tree showing the subproblems of the membership problem on a string of length 4, $s[1..4]$. All nodes of same color are the same subproblem. The nodes for splitting points (position $k$ in the string, grey) are added only for readability.}
\label{fig:recursive-tree}
\end{figure}
